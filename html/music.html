<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>校园音乐</title>
    <link rel="stylesheet" href="../css/music.css">
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html,
        body {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        #myCanvas {
            background-color: #000;
        }
    </style>
</head>

<body>
    <!-- 菜单栏 -->
    <div class="nav-box">
        <div class="nav">
            <ul>
                <li class="change">
                    <a href="./index.html">校园文化</a>
                </li>
                <li>
                    <a href="./loading-摄影.html">摄影之秀</a>
                </li>
                <li>
                    <a href="./loading-音乐.html">音乐天堂</a>
                </li>
                <li>
                    <a href="#">娱乐消遣</a>
                </li>
                <li>
                    <a href="#">校园魅力</a>
                </li>
            </ul>
        </div>
    </div>
    <!-- 音乐播放器 -->
    <div class="player">
        <div class="player_nav">
            <div class="player_CD">
                <div class="player_cdData active_song" style="background-image:url(../img/music-img/a1.png)" data-origin='../mp3/1.mp3' songName='yourName'
                    singer='dengGe'></div>
                <div class="player_cdData" style="background-image:url(../img/music-img/a2.png)" data-origin='../mp3/2.mp3' songName='RockSong'
                    singer='laoDeng'></div>
                <div class="player_cdData" style="background-image:url(../img/music-img/a3.png)" data-origin='../mp3/3.mp3' songName='丑八怪'
                    singer='薛之谦'></div>
                <div class="player_cdData" style="background-image:url(../img/music-img/a4.png)" data-origin='../mp3/4.mp3' songName='小半'
                    singer='陈粒'></div>
                <div class="player_cdData" style="background-image:url(../img/music-img/a5.png)" data-origin='../mp3/5.mp3' songName='Shape of You'
                    singer='ed sheeran'></div>
            </div>

            <div class="player_control">
                <div class="player_prev">
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                        <path d="M26.695 34.434v31.132L54.5 49.998z"></path>
                        <path d="M24.07 34.434v31.132c0 2.018 2.222 3.234 3.95 2.267l27.804-15.568c1.706-.955 1.707-3.578 0-4.533L28.02 32.168c-2.957-1.655-5.604 2.88-2.649 4.533l27.805 15.564v-4.533L25.371 63.3l3.95 2.267V34.435c-.001-3.387-5.251-3.387-5.251-.001z"></path>
                        <g>
                            <path d="M55.5 34.434v31.132l27.805-15.568z"></path>
                            <path d="M52.875 34.434v31.132c0 2.018 2.222 3.234 3.949 2.267 9.27-5.189 18.537-10.379 27.805-15.568 1.705-.955 1.705-3.578 0-4.533L56.824 32.168c-2.957-1.655-5.604 2.88-2.648 4.533l27.803 15.564v-4.533L54.176 63.3l3.949 2.267V34.435c0-3.387-5.25-3.387-5.25-.001z"></path>
                        </g>
                    </svg>
                </div>
                <div class="player_play">
                    <svg class="icon play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                        <path d="M51.109 30.335l-36-24A2 2 0 0 0 12 8v48a2.003 2.003 0 0 0 2 2c.388 0 .775-.113 1.109-.336l36-24a2 2 0 0 0 0-3.329z"></path>
                    </svg>
                    <svg class="icon pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                        <path d="M22.537 8.046h17.791c1.104 0 2.003.898 2.003 1.993v79.912a2.005 2.005 0 0 1-2.003 2.003h-17.79a2.005 2.005 0 0 1-2.003-2.003V10.04c0-1.095.898-1.993 2.002-1.993zM59.672 8.046h17.8c1.095 0 1.993.898 1.993 1.993v79.912a2.003 2.003 0 0 1-1.993 2.003h-17.8a1.997 1.997 0 0 1-1.993-2.003V10.04c0-1.095.889-1.993 1.993-1.993z"></path>
                    </svg>
                </div>
                <div class="player_next">
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                        <path d="M26.695 34.434v31.132L54.5 49.998z"></path>
                        <path d="M24.07 34.434v31.132c0 2.018 2.222 3.234 3.95 2.267l27.804-15.568c1.706-.955 1.707-3.578 0-4.533L28.02 32.168c-2.957-1.655-5.604 2.88-2.649 4.533l27.805 15.564v-4.533L25.371 63.3l3.95 2.267V34.435c-.001-3.387-5.251-3.387-5.251-.001z"></path>
                        <g>
                            <path d="M55.5 34.434v31.132l27.805-15.568z"></path>
                            <path d="M52.875 34.434v31.132c0 2.018 2.222 3.234 3.949 2.267 9.27-5.189 18.537-10.379 27.805-15.568 1.705-.955 1.705-3.578 0-4.533L56.824 32.168c-2.957-1.655-5.604 2.88-2.648 4.533l27.803 15.564v-4.533L54.176 63.3l3.949 2.267V34.435c0-3.387-5.25-3.387-5.25-.001z"></path>
                        </g>
                    </svg>
                </div>
            </div>
        </div>

        <div class="playerLineBar">
            <div class="duration"></div>
        </div>

        <div class="back_Mask">
            <p class="songName">1111</p>
            <p class="singer">2222</p>
        </div>
    </div>
    <canvas id="myCanvas"></canvas>
    <script src="../js/jquery.js"></script>
    <script src="../js/TweenMax.min.js"></script>
    <script src="../js/music.js"></script>
    <script>
        var myCanvas = document.getElementById('myCanvas');
        var ctx = myCanvas.getContext("2d");
        var starlist = [];
        function init() {
            // 设置canvas区域的范围为整个页面
            myCanvas.width = window.innerWidth;
            myCanvas.height = window.innerHeight;
        };
        init();
        // 监听屏幕大小改变 重新为canvas大小赋值
        window.onresize = init;

        var list = [];
        // 将页面上每一个小圆点的信息存在list数组中
        // 数组中的每一位是一个对象  对象中存着每一个小点的信息
        // 利用构造函数生成数组

        function Star(x, y, radius, disX, disY) {
            // 将传入的参数设置为对象的属性
            // 位置坐标
            this.x = x;
            this.y = y;
            // 半径
            this.radius = radius;
            // 变化距离
            this.disX = disX;
            this.disY = disY;
        }

        for (var i = 0; i < 800; i++) {
            // 设置位随机值
            var x = Math.random() * myCanvas.width;
            var y = Math.random() * myCanvas.height;
            var radius = Math.random() * 2;
            var disX = x - myCanvas.width / 2;
            var disY = y - myCanvas.height / 2;
            // 每一个的信息存在对象中  所有小点存在list数组中
            list.push(new Star(x, y, radius, disX, disY));
        }

        // 绘制并且运动函数
        function animate() {
            // 在每次渲染前清除一下屏幕
            ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
            // 下一次渲染  根据存放在数组中的信息进行画小星星
            for (var i = 0; i < 800; i++) {
                // 取出每一个信息点信息
                var a = list[i];

                // a的坐标在改变  根据disx disy进行改变  /50改变值设置的小一点
                a.x += a.disX / 50;
                a.y += a.disY / 50;

                // 如果小圆点运动到边界之外
                if (a.x < 0 || a.y < 0 || a.x > myCanvas.width || a.y > myCanvas.height) {
                    // 重新出现一个小星星的位置
                    a.x = Math.random() * myCanvas.width;
                    a.y = Math.random() * myCanvas.height;
                    // 同时根据 当前新出现的位置设置移动距离
                    a.disX = a.x - myCanvas.width / 2;
                    a.disY = a.y - myCanvas.height / 2;
                }

                // 开始画每一个点
                ctx.beginPath();
                // 设置填充颜色
                ctx.fillStyle = "green";
                // 每一小星星为一个小圆
                ctx.arc(a.x, a.y, a.radius, 0, Math.PI * 2, false);
                // 进行填充
                ctx.fill();
            }
            // 不断绘制canvas  根据disx与disy的位置变化  更新坐标  视觉上位运动状态
            setTimeout(animate, 40);
        }
        animate();
    </script>
</body>

</html>